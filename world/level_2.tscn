[gd_scene load_steps=13 format=4 uid="uid://crxg6pgki3jcv"]

[ext_resource type="TileSet" uid="uid://dw66ve3yqcms5" path="res://world/pirate_ship_interior_tileset.tres" id="1_h27rw"]
[ext_resource type="Script" uid="uid://be6ekcmtyfcrx" path="res://world/Main.gd" id="1_lm1wg"]
[ext_resource type="PackedScene" uid="uid://f1hja0tppynh" path="res://world/level_3.tscn" id="2_r546c"]
[ext_resource type="PackedScene" uid="uid://b3w5r4vookj4s" path="res://UI/level_HUD.tscn" id="3_wpvgc"]
[ext_resource type="PackedScene" uid="uid://c5avxrb5wnqor" path="res://actors/Cannon.tscn" id="4_85yey"]
[ext_resource type="PackedScene" uid="uid://cxd8utj06nd2h" path="res://world/gem_manager.tscn" id="4_wpvgc"]
[ext_resource type="PackedScene" uid="uid://cvroqysgpvf6u" path="res://gems/Gem.tscn" id="5_85yey"]
[ext_resource type="Resource" uid="uid://lolpuixwjb8u" path="res://gems/gem_info/gold_coin.tres" id="6_3aral"]
[ext_resource type="Resource" uid="uid://dvawghkvy4xuh" path="res://gems/gem_info/regular_emerald.tres" id="7_1ed1g"]
[ext_resource type="Resource" uid="uid://bjxfrsxpn3sa0" path="res://gems/gem_info/regular_ruby.tres" id="8_k85ya"]
[ext_resource type="Resource" uid="uid://tdn31p45ulk7" path="res://gems/gem_info/regular_diamond.tres" id="9_k85ya"]
[ext_resource type="PackedScene" uid="uid://bt2wiosukdqan" path="res://world/countdown_timer.tscn" id="11_04rgn"]

[node name="Node2D" type="Node2D"]
script = ExtResource("1_lm1wg")
level_name = "Level 2"
next_level = ExtResource("2_r546c")

[node name="LevelHUD" parent="." instance=ExtResource("3_wpvgc")]
visible = false

[node name="Background" type="TileMapLayer" parent="."]

[node name="Node2D" type="Node2D" parent="."]

[node name="MainLevel" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAGAAHAAEAAAAAAAEAGAADAAIAAAAAAAIAGAADAAIAAAAAAAMAGAADAAIAAAABAAAAGAACAAMAAAABAAgAGAACAAIAAAACAAAAGAACAAMAAAACAAgAGAACAAIAAAADAAAAGAACAAMAAAADAAgAGAAHAAIAAAAEAAAAGAACAAMAAAAEAAgAGAACAAEAAAAFAAAAGAACAAMAAAAFAAgAGAACAAEAAAAGAAAAGAACAAMAAAAGAAgAGAACAAEAAAAHAAAAGAACAAMAAAAIAAAAGAACAAMAAAAJAAAAGAACAAMAAAAJAAgAGAACAAEAAAAKAAAAGAACAAMAAAAKAAgAGAACAAEAAAALAAAAGAACAAMAAAALAAgAGAACAAEAAAAMAAAAGAACAAMAAAAMAAgAGAACAAEAAAANAAAAGAACAAMAAAANAAgAGAACAAEAAAAOAAAAGAAIAAEAAAAOAAgAGAACAAEAAAAPAAEAGAAIAAEAAAAPAAIAGAABAAIAAAAPAAMAGAABAAIAAAAPAAQAGAABAAIAAAAPAAYAGAABAAIAAAAPAAcAGAABAAIAAAAPAAgAGAAIAAIAAAAHAAgAGAADAAEAAAAIAAgAGAABAAEAAAAPAAUAGAABAAIAAAAAAAQAGAAHAAIAAAABAAQAGAACAAEAAAAAAAUAGAACAAIAAAAAAAYAGAACAAIAAAAAAAcAGAACAAIAAAAAAAgAGAACAAIAAAABAAUAGAACAAIAAAABAAYAGAACAAIAAAABAAcAGAACAAIAAAACAAcAGAACAAIAAAACAAYAGAACAAIAAAACAAUAGAACAAIAAAADAAcAGAADAAIAAAADAAYAGAADAAIAAAADAAUAGAADAAIAAAADAAQAGAADAAEAAAACAAQAGAACAAEAAAAGAAQAGAABAAUAAAAHAAMAGAABAAEAAAAIAAMAGAADAAEAAAAIAAQAGAADAAMAAAAHAAQAGAALAAUAAAALAAMAGAAFAAEAAAALAAQAGAAFAAIAAAALAAUAGAAFAAMAAAAOAAEAGAABAAMAAAAPAAAAGAACAAIAAAAOAAMAAAABAAIAAAAEAAcAAAACAAEAAAAFAAcAAAADAAEAAAAOAAUAAAABAAIAAAA=")
tile_set = ExtResource("1_h27rw")

[node name="GemManager" parent="." instance=ExtResource("4_wpvgc")]

[node name="silver7" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(152, 48)
is_moving = true

[node name="MoveManager" parent="GemManager/silver7" index="3"]
direction = Vector2(-1, 0)

[node name="silver8" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(104, 48)
is_moving = true

[node name="MoveManager" parent="GemManager/silver8" index="3"]
direction = Vector2(-1, 0)

[node name="silver11" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(144, 240)

[node name="silver14" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(216, 168)

[node name="silver12" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(296, 144)

[node name="gold1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(104, 112)
gem_info = ExtResource("6_3aral")
is_moving = true

[node name="gold2" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(152, 112)
gem_info = ExtResource("6_3aral")
is_moving = true

[node name="gold4" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(272, 88)
gem_info = ExtResource("6_3aral")

[node name="gold5" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(264, 168)
gem_info = ExtResource("6_3aral")

[node name="gold8" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(216, 120)
gem_info = ExtResource("6_3aral")

[node name="gold10" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(168, 240)
gem_info = ExtResource("6_3aral")

[node name="gold11" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(344, 104)
gem_info = ExtResource("6_3aral")

[node name="emerald1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(240, 88)
gem_info = ExtResource("7_1ed1g")

[node name="emerald4" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(424, 136)
gem_info = ExtResource("7_1ed1g")
is_moving = true

[node name="emerald6" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(368, 48)
gem_info = ExtResource("7_1ed1g")
is_moving = true

[node name="ruby1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(128, 88)
gem_info = ExtResource("8_k85ya")
is_moving = true

[node name="ruby2" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(464, 80)
gem_info = ExtResource("8_k85ya")

[node name="ruby3" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(464, 208)
gem_info = ExtResource("8_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/ruby3" index="3"]
direction = Vector2(0, -1)
move_speed = 80.0

[node name="ruby5" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(56, 80)
gem_info = ExtResource("8_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/ruby5" index="3"]
direction = Vector2(0, -1)

[node name="diamond1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(128, 72)
gem_info = ExtResource("9_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/diamond1" index="3"]
direction = Vector2(-1, 0)

[node name="diamond2" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(464, 136)
gem_info = ExtResource("9_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/diamond2" index="3"]
direction = Vector2(0, -1)

[node name="Cannon" parent="." instance=ExtResource("4_85yey")]
position = Vector2(256, 264)

[node name="CountdownTimer" parent="." instance=ExtResource("11_04rgn")]

[connection signal="score_calculated" from="GemManager" to="." method="_on_gem_manager_score_calculated"]
[connection signal="timeout" from="CountdownTimer" to="." method="_on_countdown_timer_timeout"]

[editable path="GemManager/silver7"]
[editable path="GemManager/silver8"]
[editable path="GemManager/gold1"]
[editable path="GemManager/gold2"]
[editable path="GemManager/emerald4"]
[editable path="GemManager/emerald6"]
[editable path="GemManager/ruby1"]
[editable path="GemManager/ruby3"]
[editable path="GemManager/ruby5"]
[editable path="GemManager/diamond1"]
[editable path="GemManager/diamond2"]
