[gd_scene load_steps=23 format=4 uid="uid://crxg6pgki3jcv"]

[ext_resource type="TileSet" uid="uid://dw66ve3yqcms5" path="res://world/pirate_ship_interior_tileset.tres" id="1_h27rw"]
[ext_resource type="Script" uid="uid://be6ekcmtyfcrx" path="res://world/Main.gd" id="1_lm1wg"]
[ext_resource type="PackedScene" uid="uid://f1hja0tppynh" path="res://world/level_3.tscn" id="2_r546c"]
[ext_resource type="PackedScene" uid="uid://b3w5r4vookj4s" path="res://UI/level_HUD.tscn" id="3_wpvgc"]
[ext_resource type="Texture2D" uid="uid://b508jx3dpytx8" path="res://asset/Treasure Hunters/Pirate Ship/Sprites/Tilesets/Terrain and Back Wall (32x32).png" id="4_51wcm"]
[ext_resource type="PackedScene" uid="uid://c5avxrb5wnqor" path="res://actors/Cannon.tscn" id="4_85yey"]
[ext_resource type="PackedScene" uid="uid://cxd8utj06nd2h" path="res://world/gem_manager.tscn" id="4_wpvgc"]
[ext_resource type="PackedScene" uid="uid://cvroqysgpvf6u" path="res://gems/Gem.tscn" id="5_85yey"]
[ext_resource type="PackedScene" uid="uid://clx8grjirfiox" path="res://world/background_objects/door.tscn" id="5_t2pxw"]
[ext_resource type="Resource" uid="uid://lolpuixwjb8u" path="res://gems/gem_info/gold_coin.tres" id="6_3aral"]
[ext_resource type="PackedScene" uid="uid://dlswpm3kh5vc7" path="res://world/background_objects/barrel_side.tscn" id="6_xxkmv"]
[ext_resource type="Resource" uid="uid://dvawghkvy4xuh" path="res://gems/gem_info/regular_emerald.tres" id="7_1ed1g"]
[ext_resource type="PackedScene" uid="uid://1pbx6ijcpwli" path="res://world/background_objects/green_bottle_side.tscn" id="7_12ngi"]
[ext_resource type="Resource" uid="uid://bjxfrsxpn3sa0" path="res://gems/gem_info/regular_ruby.tres" id="8_k85ya"]
[ext_resource type="PackedScene" uid="uid://cxdrift70mgi1" path="res://world/background_objects/blue_bottle_side.tscn" id="8_wh86m"]
[ext_resource type="PackedScene" uid="uid://cm7k1xy2dt7an" path="res://world/background_objects/window.tscn" id="9_12ngi"]
[ext_resource type="Resource" uid="uid://tdn31p45ulk7" path="res://gems/gem_info/regular_diamond.tres" id="9_k85ya"]
[ext_resource type="PackedScene" uid="uid://cvc5i2620paop" path="res://world/background_objects/candle.tscn" id="10_wh86m"]
[ext_resource type="PackedScene" uid="uid://bt2wiosukdqan" path="res://world/countdown_timer.tscn" id="11_04rgn"]
[ext_resource type="PackedScene" path="res://world/pirate_ship_filter.tscn" id="11_wh86m"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_1t23h"]
texture = ExtResource("4_51wcm")
texture_region_size = Vector2i(32, 32)
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
5:1/0 = 0
7:1/0 = 0
8:1/0 = 0
10:1/0 = 0
11:1/0 = 0
13:1/0 = 0
14:1/0 = 0
16:1/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
5:2/0 = 0
7:2/0 = 0
8:2/0 = 0
10:2/0 = 0
11:2/0 = 0
13:2/0 = 0
14:2/0 = 0
16:2/0 = 0
17:2/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
5:3/0 = 0
7:4/0 = 0
8:4/0 = 0
10:4/0 = 0
11:4/0 = 0
13:4/0 = 0
14:4/0 = 0
16:4/0 = 0
17:4/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
5:5/0 = 0
7:5/0 = 0
8:5/0 = 0
10:5/0 = 0
11:5/0 = 0
13:5/0 = 0
14:5/0 = 0
16:5/0 = 0
17:5/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
5:7/0 = 0
7:7/0 = 0
8:7/0 = 0
10:7/0 = 0
11:7/0 = 0
13:7/0 = 0
14:7/0 = 0
16:7/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
5:8/0 = 0
7:8/0 = 0
8:8/0 = 0
10:8/0 = 0
11:8/0 = 0
13:8/0 = 0
14:8/0 = 0
16:8/0 = 0
17:8/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
5:9/0 = 0
7:10/0 = 0
8:10/0 = 0
10:10/0 = 0
11:10/0 = 0
13:10/0 = 0
14:10/0 = 0
16:10/0 = 0
17:10/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
5:11/0 = 0
7:11/0 = 0
8:11/0 = 0
10:11/0 = 0
11:11/0 = 0
13:11/0 = 0
14:11/0 = 0
16:11/0 = 0
17:11/0 = 0

[sub_resource type="TileSet" id="TileSet_ukqkg"]
tile_size = Vector2i(32, 32)
sources/1 = SubResource("TileSetAtlasSource_1t23h")

[node name="Node2D" type="Node2D"]
script = ExtResource("1_lm1wg")
level_name = "Level 2"
next_level = ExtResource("2_r546c")
score_threshold = 500

[node name="LevelHUD" parent="." instance=ExtResource("3_wpvgc")]
visible = false

[node name="Background" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEAAQABAAcAAAANAAEAAQADAAcAAAAOAAcAAQADAAkAAAAEAAcAAQABAAkAAAAOAAIAAQADAAcAAAABAAMAAQABAAkAAAAEAAYAAQABAAgAAAAEAAUAAQABAAgAAAABAAIAAQABAAgAAAACAAEAAQACAAcAAAADAAEAAQACAAcAAAAEAAEAAQACAAcAAAAFAAEAAQACAAcAAAAGAAEAAQACAAcAAAAHAAEAAQACAAcAAAAIAAEAAQACAAcAAAAJAAEAAQACAAcAAAAKAAEAAQACAAcAAAALAAEAAQACAAcAAAAMAAEAAQACAAcAAAAOAAMAAQADAAgAAAAOAAQAAQADAAgAAAAOAAUAAQADAAgAAAAOAAYAAQADAAgAAAAFAAcAAQACAAkAAAAGAAcAAQACAAkAAAAHAAcAAQACAAkAAAAIAAcAAQACAAkAAAAJAAcAAQACAAkAAAAKAAcAAQACAAkAAAALAAcAAQACAAkAAAAMAAcAAQACAAkAAAANAAcAAQACAAkAAAACAAMAAQACAAkAAAADAAMAAQACAAkAAAAEAAQAAQABAAgAAAAEAAMAAQAIAAcAAAANAAIAAQAHAAgAAAACAAIAAQACAAgAAAADAAIAAQACAAgAAAAEAAIAAQACAAgAAAAFAAIAAQACAAgAAAAGAAIAAQAHAAcAAAAHAAIAAQACAAkAAAAIAAIAAQACAAkAAAAJAAIAAQAIAAcAAAAKAAIAAQAHAAcAAAALAAIAAQACAAkAAAAMAAIAAQAIAAcAAAAMAAMAAQABAAgAAAAMAAQAAQABAAgAAAAMAAUAAQABAAgAAAAMAAYAAQAIAAgAAAANAAYAAQACAAgAAAANAAUAAQACAAgAAAANAAQAAQACAAgAAAANAAMAAQACAAgAAAAKAAMAAQADAAgAAAAKAAQAAQADAAgAAAAKAAUAAQADAAgAAAAKAAYAAQAHAAgAAAALAAYAAQACAAcAAAAJAAYAAQACAAgAAAAIAAYAAQACAAgAAAAHAAYAAQACAAgAAAAGAAYAAQACAAgAAAAFAAYAAQACAAgAAAAFAAUAAQAHAAgAAAAGAAUAAQACAAcAAAAHAAUAAQACAAcAAAAIAAUAAQACAAcAAAAJAAUAAQAIAAgAAAAJAAQAAQABAAgAAAAJAAMAAQABAAgAAAAFAAMAAQAHAAcAAAAFAAQAAQADAAgAAAAGAAMAAQADAAkAAAA=")
tile_set = SubResource("TileSet_ukqkg")

[node name="BackgroundObjects" type="Node2D" parent="."]

[node name="Door" parent="BackgroundObjects" instance=ExtResource("5_t2pxw")]
position = Vector2(72, 96)

[node name="Door2" parent="BackgroundObjects" instance=ExtResource("5_t2pxw")]
position = Vector2(432, 224)

[node name="BarrelSide" parent="BackgroundObjects" instance=ExtResource("6_xxkmv")]
position = Vector2(139, 210)

[node name="BarrelSide2" parent="BackgroundObjects" instance=ExtResource("6_xxkmv")]
position = Vector2(159, 210)

[node name="BarrelSide3" parent="BackgroundObjects" instance=ExtResource("6_xxkmv")]
position = Vector2(179, 210)

[node name="GreenBottleSide" parent="BackgroundObjects" instance=ExtResource("7_12ngi")]
position = Vector2(453, 145)

[node name="BlueBottleSide" parent="BackgroundObjects" instance=ExtResource("8_wh86m")]
position = Vector2(380, 80)

[node name="Window" parent="BackgroundObjects" instance=ExtResource("9_12ngi")]
position = Vector2(256, 64)

[node name="Window2" parent="BackgroundObjects" instance=ExtResource("9_12ngi")]
position = Vector2(368, 64)

[node name="Candle2" parent="BackgroundObjects" instance=ExtResource("10_wh86m")]
position = Vector2(296, 224)

[node name="PirateShipFilter" parent="." instance=ExtResource("11_wh86m")]

[node name="MainLevel" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAGAAHAAEAAAAAAAEAGAADAAIAAAAAAAIAGAADAAIAAAAAAAMAGAADAAIAAAABAAAAGAACAAMAAAABAAgAGAACAAIAAAACAAAAGAACAAMAAAACAAgAGAACAAIAAAADAAAAGAACAAMAAAADAAgAGAAHAAIAAAAEAAAAGAACAAMAAAAEAAgAGAACAAEAAAAFAAAAGAACAAMAAAAFAAgAGAACAAEAAAAGAAAAGAACAAMAAAAGAAgAGAACAAEAAAAHAAAAGAACAAMAAAAIAAAAGAACAAMAAAAJAAAAGAACAAMAAAAJAAgAGAACAAEAAAAKAAAAGAACAAMAAAAKAAgAGAACAAEAAAALAAAAGAACAAMAAAALAAgAGAACAAEAAAAMAAAAGAACAAMAAAAMAAgAGAACAAEAAAANAAAAGAACAAMAAAANAAgAGAACAAEAAAAOAAAAGAAIAAEAAAAOAAgAGAACAAEAAAAPAAEAGAAIAAEAAAAPAAIAGAABAAIAAAAPAAMAGAABAAIAAAAPAAQAGAABAAIAAAAPAAYAGAABAAIAAAAPAAcAGAABAAIAAAAPAAgAGAAIAAIAAAAHAAgAGAADAAEAAAAIAAgAGAABAAEAAAAPAAUAGAABAAIAAAAAAAQAGAAHAAIAAAABAAQAGAACAAEAAAAAAAUAGAACAAIAAAAAAAYAGAACAAIAAAAAAAcAGAACAAIAAAAAAAgAGAACAAIAAAABAAUAGAACAAIAAAABAAYAGAACAAIAAAABAAcAGAACAAIAAAACAAcAGAACAAIAAAACAAYAGAACAAIAAAACAAUAGAACAAIAAAADAAcAGAADAAIAAAADAAYAGAADAAIAAAADAAUAGAADAAIAAAADAAQAGAADAAEAAAACAAQAGAACAAEAAAAGAAQAGAABAAUAAAAHAAMAGAABAAEAAAAIAAMAGAADAAEAAAAIAAQAGAADAAMAAAAHAAQAGAALAAUAAAALAAMAGAAFAAEAAAALAAQAGAAFAAIAAAALAAUAGAAFAAMAAAAOAAEAGAABAAMAAAAPAAAAGAACAAIAAAAOAAMAAAABAAIAAAAEAAcAAAACAAEAAAAFAAcAAAADAAEAAAAOAAUAAAABAAIAAAA=")
tile_set = ExtResource("1_h27rw")

[node name="GemManager" parent="." instance=ExtResource("4_wpvgc")]

[node name="silver7" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(152, 48)
is_moving = true

[node name="MoveManager" parent="GemManager/silver7" index="3"]
direction = Vector2(-1, 0)

[node name="silver8" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(104, 48)
is_moving = true

[node name="MoveManager" parent="GemManager/silver8" index="3"]
direction = Vector2(-1, 0)

[node name="silver11" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(144, 240)

[node name="silver14" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(216, 168)

[node name="silver12" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(296, 144)

[node name="gold1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(104, 112)
gem_info = ExtResource("6_3aral")
is_moving = true

[node name="gold2" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(152, 112)
gem_info = ExtResource("6_3aral")
is_moving = true

[node name="gold4" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(272, 88)
gem_info = ExtResource("6_3aral")

[node name="gold5" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(264, 168)
gem_info = ExtResource("6_3aral")

[node name="gold8" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(216, 120)
gem_info = ExtResource("6_3aral")

[node name="gold10" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(168, 240)
gem_info = ExtResource("6_3aral")

[node name="gold11" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(344, 104)
gem_info = ExtResource("6_3aral")

[node name="emerald1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(240, 88)
gem_info = ExtResource("7_1ed1g")

[node name="emerald4" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(424, 136)
gem_info = ExtResource("7_1ed1g")
is_moving = true

[node name="emerald6" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(368, 48)
gem_info = ExtResource("7_1ed1g")
is_moving = true

[node name="ruby1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(128, 88)
gem_info = ExtResource("8_k85ya")
is_moving = true

[node name="ruby2" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(464, 80)
gem_info = ExtResource("8_k85ya")

[node name="ruby3" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(464, 208)
gem_info = ExtResource("8_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/ruby3" index="3"]
direction = Vector2(0, -1)
move_speed = 80.0

[node name="ruby5" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(56, 80)
gem_info = ExtResource("8_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/ruby5" index="3"]
direction = Vector2(0, -1)

[node name="diamond1" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(128, 72)
gem_info = ExtResource("9_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/diamond1" index="3"]
direction = Vector2(-1, 0)

[node name="diamond2" parent="GemManager" instance=ExtResource("5_85yey")]
position = Vector2(464, 136)
gem_info = ExtResource("9_k85ya")
is_moving = true

[node name="MoveManager" parent="GemManager/diamond2" index="3"]
direction = Vector2(0, -1)

[node name="Cannon" parent="." instance=ExtResource("4_85yey")]
position = Vector2(256, 264)

[node name="CountdownTimer" parent="." instance=ExtResource("11_04rgn")]

[node name="Node2D2" type="Node2D" parent="."]

[connection signal="score_calculated" from="GemManager" to="." method="_on_gem_manager_score_calculated"]
[connection signal="timeout" from="CountdownTimer" to="." method="_on_countdown_timer_timeout"]

[editable path="GemManager/silver7"]
[editable path="GemManager/silver8"]
[editable path="GemManager/gold1"]
[editable path="GemManager/gold2"]
[editable path="GemManager/emerald4"]
[editable path="GemManager/emerald6"]
[editable path="GemManager/ruby1"]
[editable path="GemManager/ruby3"]
[editable path="GemManager/ruby5"]
[editable path="GemManager/diamond1"]
[editable path="GemManager/diamond2"]
